(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{85:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(1),r=a(18),o=a.n(r),s=a(12),i=a(11),l=a(5),d=a(8),j=a.n(d),u=a(16),b="https://codigo4-pos.herokuapp.com",m=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/login"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/verificar"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)}});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=Object(n.createContext)(),O=function(e){var t=e.children,a=Object(i.g)(),r=Object(n.useState)({autenticado:!1,usu_nom:null,usu_id:null,token:null,cargando:!0}),o=Object(l.a)(r,2),s=o[0],d=o[1];return Object(n.useEffect)((function(){!function(){var e=localStorage.getItem("token");e?p(e).then((function(t){if(console.log(t),t.ok){var a=e.split(".")[1],c=window.atob(a),n=JSON.parse(c);d({autenticado:!0,usu_nom:n.usu_nom,usu_id:n.usu_id,token:e,cargando:!1})}else localStorage.removeItem("token"),d({autenticado:!1,usu_nom:null,usu_id:null,token:null,cargando:!1})})):d({autenticado:!1,usu_nom:null,usu_id:null,token:null,cargando:!1})}()}),[]),Object(c.jsx)(h.Provider,{value:{autenticado:s.autenticado,usu_nom:s.usu_nom,usu_id:s.usu_id,token:s.token,cargando:s.cargando,iniciarSesionContext:function(e){localStorage.setItem("token",e);var t=e.split(".")[1],a=window.atob(t),c=JSON.parse(a);d({autenticado:!0,usu_nom:c.usu_nom,usu_id:c.usu_id,token:e,cargando:!1})},cerrarSesion:function(){localStorage.removeItem("token"),a.replace("/auth/login"),d({autenticado:!1,usu_nom:null,usu_id:null,token:null,cargando:!0})}},children:t})},x="https://5fdbd3e591f19e0017334bb6.mockapi.io",f=function(){var e=Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x,"/categoria"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x,"/categoria"),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x,"/categoria/").concat(t.cat_id),{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x,"/categoria/").concat(t),{method:"DELETE"});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=Object(n.createContext)(),C=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(l.a)(a,2),o=r[0],s=r[1],i=Object(n.useState)(!0),d=Object(l.a)(i,2),j=d[0],u=d[1],b=Object(n.useState)(!1),m=Object(l.a)(b,2),p=m[0],h=m[1],O=Object(n.useState)(!1),x=Object(l.a)(O,2),g=x[0],v=x[1],N=Object(n.useState)({}),C=Object(l.a)(N,2),y=C[0],k=C[1],w=function(){u(!0),f().then((function(e){s(e),u(!1)}))};return Object(n.useEffect)((function(){w()}),[]),Object(c.jsx)(_.Provider,{value:{categorias:o,cargandoCategorias:j,modalAgregar:p,categoriaEditar:y,modalEditar:g,setModalAgregar:h,setCategoriaEditar:k,setModalEditar:v,obtenerCategorias:w},children:t})},y=function(){var e=Object(u.a)(j.a.mark((function e(){var t,a,c,n,r=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=t.trim().length>2?"".concat(x,"/producto?search=").concat(t):"".concat(x,"/producto"),e.next=4,fetch(a);case 4:return c=e.sent,e.next=7,c.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x,"/producto"),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x,"/producto/").concat(t.prod_id),{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x,"/producto/").concat(t),{method:"DELETE"});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=Object(n.createContext)(),P=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(l.a)(a,2),o=r[0],s=r[1],i=Object(n.useState)(!0),d=Object(l.a)(i,2),j=d[0],u=d[1],b=Object(n.useState)(!1),m=Object(l.a)(b,2),p=m[0],h=m[1],O=Object(n.useState)(!1),x=Object(l.a)(O,2),f=x[0],g=x[1],v=Object(n.useState)({}),N=Object(l.a)(v,2),_=N[0],C=N[1],k=Object(n.useState)(""),w=Object(l.a)(k,2),S=w[0],P=w[1],F=Object(n.useState)([]),B=Object(l.a)(F,2),T=B[0],M=B[1],I=function(){u(!0),y(S).then((function(e){console.log("lleg\xf3 la data"),s(e),u(!1)}))};return Object(n.useEffect)((function(){I()}),[S]),Object(c.jsx)(E.Provider,{value:{productos:o,cargandoProductos:j,modalAgregar:p,modalEditar:f,productoEditar:_,termino:S,carrito:T,setTermino:P,setCarrito:M,setProductoEditar:C,setModalAgregar:h,setModalEditar:g,obtenerProductos:I},children:t})},F=function(){var e=Object(n.useContext)(h),t=e.usu_nom,a=e.cerrarSesion;return Object(c.jsx)("header",{children:Object(c.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-light bg-ligth border",children:[Object(c.jsx)(s.b,{className:"navbar-brand",to:"#",children:"Mantenimiento"}),Object(c.jsx)("button",{className:"navbar-toggler d-lg-none",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavId","aria-controls":"collapsibleNavId","aria-expanded":"false","aria-label":"Toggle navigation"}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"collapsibleNavId",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(s.c,{className:"nav-link active",exact:!0,to:"/admin/home",children:"Home "})}),Object(c.jsx)("li",{className:"nav-item ",children:Object(c.jsx)(s.c,{className:"nav-link active",to:"/admin/categoria",children:"Categorias "})}),Object(c.jsx)("li",{className:"nav-item ",children:Object(c.jsx)(s.c,{className:"nav-link active",to:"/admin/producto",children:"Productos "})})]}),Object(c.jsxs)("form",{className:"form-inline my-2 my-lg-0",children:[Object(c.jsx)("button",{className:"btn btn-danger mr-2",onClick:function(){a()},children:Object(c.jsx)("i",{className:"fas fa-door-open"})}),Object(c.jsx)("span",{children:t})]})]})]})})},B=a(6),T=a(15),M=a.n(T),I=a(29),A=function(){var e=Object(n.useContext)(_),t=e.categorias,a=e.cargandoCategorias,r=e.obtenerCategorias,o=e.setModalAgregar,s=e.setModalEditar,i=e.setCategoriaEditar,l={columns:[{label:"Id",field:"cat_id"},{label:"Nombre",field:"cat_nom"},{label:"acciones",field:"acciones"}],rows:t.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{cat_id:+e.cat_id,cat_nom:e.cat_nom,acciones:Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("button",{className:"btn btn-secondary mr-2",onClick:function(){i(e),s(!0)},children:Object(c.jsx)("i",{className:"fas fa-edit"})}),Object(c.jsx)("button",{className:"btn btn-danger",onClick:function(){var t;t=e.cat_id,M.a.fire({title:"\xbfSeguro de eliminar el producto?",icon:"error",text:"Los cambios ser\xe1n irreversibles joven!",showCancelButton:!0}).then((function(e){e.isConfirmed&&N(t).then((function(e){e.cat_id&&(r(),M.a.fire({title:"Eliminado!",icon:"success",timer:700,showCancelButton:!1}))}))}))},children:Object(c.jsx)("i",{className:"fas fa-times"})})]})})})}))};return Object(c.jsx)("section",{className:"col",children:Object(c.jsx)("div",{className:"card shadow",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("button",{className:"btn btn-primary success",onClick:function(){o(!0)},children:Object(c.jsx)("i",{className:"fas fa-plus-circle"})}),a?Object(c.jsx)("div",{children:"...cargando"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{className:"btn btn-success",onClick:function(){r()},children:Object(c.jsx)("i",{className:"fas fa-sync-alt"})}),Object(c.jsx)("hr",{}),Object(c.jsx)(I.c,{data:l,searchTop:!0,searchBottom:!1,responsive:!0,striped:!0,bordered:!0,pagingTop:!0,infoLabel:["Mostrando","a","de","categorias"],fixed:!0,searchLabel:"Buscar"})]})]})})})},L=a(13),H={cat_nom:""},D=function(){var e=Object(n.useState)(Object(B.a)({},H)),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useContext)(_),s=o.obtenerCategorias,i=o.setModalAgregar;return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),M.a.fire({title:"\xbfSeguro de crear el categoria?",icon:"question",text:"Los cambios se guardar\xe1n en la base de datos",showCancelButton:!0}).then((function(e){e.isConfirmed&&g(Object(B.a)({},a)).then((function(e){e.cat_id&&(r(H),s(),i(!1),M.a.fire({title:"Hecho!",text:"La categoria ha sido creado con \xe9xito",icon:"success",timer:700,showCancelButton:!1}))}))}))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"cat_nom",children:"Nombre:"}),Object(c.jsx)("input",{type:"text",id:"cat_nom",name:"cat_nom",placeholder:"Tecnologia",className:"form-control",value:a.prod_nom,onChange:function(e){r(Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},e.target.name,e.target.value)))}})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Crear Categoria"})})]})},J=a(91),q=function(){var e=Object(n.useContext)(_),t=e.categoriaEditar,a=e.setModalEditar,r=e.obtenerCategorias,o=Object(n.useState)(t),s=Object(l.a)(o,2),i=s[0],d=s[1],j=function(e){d(Object(B.a)(Object(B.a)({},i),{},Object(L.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),M.a.fire({title:"\xbfSeguro de editar la categoria ".concat(t.cat_nom," por ").concat(i.cat_nom,"?"),icon:"question",text:"Los cambios se guardar\xe1n en la base de datos",showCancelButton:!0}).then((function(e){e.isConfirmed&&v(i).then((function(e){e.cat_id&&(a(!1),r(),M.a.fire({title:"Editado!",icon:"success",timer:700,showCancelButton:!1}))}))}))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"cat_id",children:"Id:"}),Object(c.jsx)("input",{type:"text",id:"cat_id",name:"cat_id",className:"form-control",value:i.cat_id,onChange:j,readOnly:!0})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"cat_nom",children:"Nombre:"}),Object(c.jsx)("input",{type:"text",id:"cat_nom",name:"cat_nom",placeholder:"Ejm: Panaderia",className:"form-control",value:i.cat_nom,onChange:j})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Editar Producto"})})]})},U=function(){var e=Object(n.useContext)(_),t=e.modalAgregar,a=e.modalEditar,r=e.setModalAgregar,o=e.setModalEditar;return Object(c.jsxs)("main",{className:"container",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)(A,{})}),Object(c.jsxs)(J.a,{show:t,onHide:function(){r(!1)},children:[Object(c.jsx)(J.a.Header,{closeButton:!0,children:Object(c.jsx)(J.a.Title,{children:"Agregar Categoria"})}),Object(c.jsx)(J.a.Body,{children:Object(c.jsx)(D,{})})]}),Object(c.jsxs)(J.a,{show:a,onHide:function(){o(!1)},children:[Object(c.jsx)(J.a.Header,{closeButton:!0,children:Object(c.jsx)(J.a.Title,{children:"Editar Categoria"})}),Object(c.jsx)(J.a.Body,{children:Object(c.jsx)(q,{})})]})]})},K=function(){return Object(c.jsx)("div",{children:"Home"})},R=a(92),z={prod_nom:"",prod_pre:0,prod_img:"",cat_id:0,prod_stock:0},$=function(){var e=Object(n.useState)(Object(B.a)({},z)),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(Object(R.a)()),s=Object(l.a)(o,2),i=s[0],d=s[1],j=Object(n.useContext)(E),u=j.obtenerProductos,b=j.setModalAgregar,m=Object(n.useContext)(_).categorias,p=function(e){r(Object(B.a)(Object(B.a)({},a),{},Object(L.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),M.a.fire({title:"\xbfSeguro de crear el producto",icon:"question",text:"Los cambios se guardaran en la base de datos",showCancelButton:!0}).then((function(e){e.isConfirmed&&k(Object(B.a)(Object(B.a)({},a),{},{prod_sku:i})).then((function(e){e.prod_id&&(r(z),d(Object(R.a)()),u(),b(!1),M.a.fire({title:"Hecho!",text:"EL producto a sido creado con exito",icon:"success",showCancelButton:!1,timer:500}))}))}))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_nom",children:"Nombre"}),Object(c.jsx)("input",{className:"form-control",type:"text",id:"prod_nom",placeholder:"Ejm Capuccino",name:"prod_nom",value:a.prod_nom,onChange:p})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_pre",children:"Precio"}),Object(c.jsx)("input",{className:"form-control",type:"number",id:"prod_pre",value:a.prod_pre,onChange:p,name:"prod_pre"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_stock",children:"stock"}),Object(c.jsx)("input",{className:"form-control",type:"number",id:"prod_stock",name:"prod_stock",value:a.prod_stock,onChange:p})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_sku",children:"SKU"}),Object(c.jsx)("input",{className:"form-control",type:"text",id:"prod_sku",readOnly:!0,name:"prod_sku",value:i})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"cat_id",children:"Categoria"}),Object(c.jsxs)("select",{name:"cat_id",id:"cat_id",value:a.cat_id,className:"form-control",onChange:p,children:[Object(c.jsx)("option",{value:"0",children:"--Selecione--"}),m.map((function(e){return Object(c.jsx)("option",{value:e.cat_id,children:e.cat_nom},e.cat_id)}))]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_img",children:"imagen"}),Object(c.jsx)("textarea",{className:"form-control",type:"number",id:"prod_img",name:"prod_img",value:a.prod_img,onChange:p})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Crear producto"})})]})},G=function(){var e=Object(n.useContext)(E),t=e.productos,a=e.cargandoProductos,r=e.obtenerProductos,o=e.setModalAgregar,s=e.setModalEditar,i=e.setProductoEditar,l=Object(n.useContext)(_).categorias,d={columns:[{label:"Id",field:"prod_id"},{label:"Nombre",field:"prod_nom"},{label:"Precio",field:"prod_pre"},{label:"Stock",field:"prod_stock"},{label:"SKU",field:"prod_sku"},{label:"Categoria",field:"cat_id"},{label:"Imagen",field:"prod_img"},{label:"acciones",field:"acciones"}],rows:t.map((function(e){var t;return Object(B.a)(Object(B.a)({},e),{},{prod_id:+e.prod_id,prod_nom:e.prod_nom,prod_pre:e.prod_pre,prod_stock:e.prod_stock,prod_sku:e.prod_sku,cat_id:null===(t=l.find((function(t){return+t.cat_id===+e.cat_id})))||void 0===t?void 0:t.cat_nom,prod_img:Object(c.jsx)("img",{src:e.prod_img,alt:"",width:"65"}),acciones:Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("button",{className:"btn btn-secondary mr-2",onClick:function(){i(e),s(!0)},children:Object(c.jsx)("i",{className:"fas fa-edit"})}),Object(c.jsx)("button",{className:"btn btn-danger",onClick:function(){var t;t=e.prod_id,M.a.fire({title:"\xbfSeguro de eliminar el producto",icon:"error",text:"Los cambios ser\xe1n irreversibles ",showCancelButton:!0}).then((function(e){e.isConfirmed&&S(t).then((function(e){e.prod_id&&(r(),M.a.fire({title:"Eliminado",icon:"success",timer:700,showCancelButton:!1}))}))}))},children:Object(c.jsx)("i",{className:"fas fa-times"})})]})})})}))};return Object(c.jsx)("section",{className:"col",children:Object(c.jsx)("div",{className:"card shadow",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("button",{className:"btn btn-primary success",onClick:function(){o(!0)},children:Object(c.jsx)("i",{className:"fas fa-plus-circle"})}),a?Object(c.jsxs)("div",{className:"alert alert-info text-center",role:"alert",children:[Object(c.jsx)("h4",{className:"alert-heading",children:"Cargando producto"}),Object(c.jsx)("div",{className:"spinner-border",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{className:"btn btn-success",onClick:function(){r()},children:Object(c.jsx)("i",{className:"fas fa-sync-alt"})}),Object(c.jsx)("hr",{}),Object(c.jsx)(I.c,{data:d,searchTop:!0,searchBottom:!1,responsive:!0,striped:!0,bordered:!0,pagingTop:!0,infoLabel:["Mostrando","a","de","productos"],fixed:!0,searchLabel:"Buscar"})]})]})})})},Q=function(){var e=Object(n.useContext)(E),t=e.productoEditar,a=e.setModalEditar,r=e.obtenerProductos,o=Object(n.useContext)(_).categorias,s=Object(n.useState)(Object(B.a)({},t)),i=Object(l.a)(s,2),d=i[0],j=i[1],u=function(e){j(Object(B.a)(Object(B.a)({},d),{},Object(L.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),M.a.fire({title:"\xbfSeguro de editar el producto ".concat(t.prod_nom," por ").concat(d.prod_nom,"?"),icon:"question",text:"Los cambios se guardaran en \xf1a base de datos",showCancelButton:!0}).then((function(e){e.isConfirmed&&w(Object(B.a)({},d)).then((function(e){e.cat_id&&(a(!1),r(),M.a.fire({title:"Editado!",icon:"success",timer:700,showCancelButton:!1}))}))}))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_nom",children:"ID"}),Object(c.jsx)("input",{className:"form-control",type:"text",id:"prod_id",name:"prod_id",value:d.prod_id,onChange:u,readOnly:!0})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_nom",children:"Nombre"}),Object(c.jsx)("input",{className:"form-control",type:"text",id:"prod_nom",placeholder:"Ejm Tv Smart 70",name:"prod_nom",value:d.prod_nom,onChange:u})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_pre",children:"Precio"}),Object(c.jsx)("input",{className:"form-control",type:"number",id:"prod_pre",value:d.prod_pre,onChange:u,name:"prod_pre"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_stock",children:"stock"}),Object(c.jsx)("input",{className:"form-control",type:"number",id:"prod_stock",name:"prod_stock",value:d.prod_stock,onChange:u})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_sku",children:"SKU"}),Object(c.jsx)("input",{className:"form-control",type:"text",id:"prod_sku",readOnly:!0,name:"prod_sku",value:d.prod_sku,onChange:u})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"cat_id",children:"Categoria"}),Object(c.jsxs)("select",{className:"form-control",type:"number",id:"cat_id",name:"cat_id",value:d.cat_id,onChange:u,readOnly:!0,children:[Object(c.jsx)("option",{value:"0",children:"--Seleccione--"}),o.map((function(e){return Object(c.jsx)("option",{value:e.cat_id,children:e.cat_nom},e.cat_id)}))]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_img",children:"imagen"}),Object(c.jsx)("textarea",{className:"form-control",type:"number",id:"prod_img",name:"prod_img",value:d.prod_img,onChange:u})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Editar producto"})})]})},V=function(){var e=Object(n.useContext)(E),t=e.modalAgregar,a=e.modalEditar,r=e.setModalAgregar,o=e.setModalEditar;return Object(c.jsxs)("main",{className:"container",children:[Object(c.jsx)("div",{className:"row ",children:Object(c.jsx)(G,{})}),Object(c.jsxs)(J.a,{show:t,onHide:function(){r(!1)},children:[Object(c.jsx)(J.a.Header,{closeButton:!0,children:Object(c.jsx)(J.a.Title,{children:"Agregar Producto"})}),Object(c.jsx)(J.a.Body,{children:Object(c.jsx)($,{})})]}),Object(c.jsxs)(J.a,{show:a,onHide:function(){o(!1)},children:[Object(c.jsx)(J.a.Header,{closeButton:!0,children:Object(c.jsx)(J.a.Title,{children:"Editar Producto"})}),Object(c.jsx)(J.a.Body,{children:Object(c.jsx)(Q,{})})]})]})},W=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(F,{}),Object(c.jsx)(P,{children:Object(c.jsx)(C,{children:Object(c.jsxs)(i.d,{children:[Object(c.jsx)(i.b,{path:"/admin/home",component:K}),Object(c.jsx)(i.b,{path:"/admin/categoria",component:U}),Object(c.jsx)(i.b,{path:"/admin/producto",component:V})]})})})]})},X=a.p+"static/media/logo-login-admin.e145daed.jpg",Y=function(e){var t,a,r=Object(n.useContext)(h).iniciarSesionContext,o=Object(n.useState)({correo:"",password:""}),s=Object(l.a)(o,2),i=s[0],d=s[1],j=function(e){d(Object(B.a)(Object(B.a)({},i),{},Object(L.a)({},e.target.name,e.target.value)))};return Object(c.jsx)("main",{className:"text-center",children:Object(c.jsxs)("form",{className:"form-signin",onSubmit:function(t){t.preventDefault(),m(i).then((function(t){console.log(t),t.ok&&(r(t.token),e.history.push("/admin/home"))}))},children:[Object(c.jsx)("img",{className:"mb-4",src:X,alt:"",width:"72",height:"72"}),Object(c.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Iniciar sesi\xf3n"}),Object(c.jsx)("label",{for:"inputEmail",className:"sr-only",children:"Correo Electronico"}),Object(c.jsx)("input",(t={type:"email",id:"inputEmail",className:"form-control",placeholder:"Ejm: user@gmail.com",required:!0,autofocus:!0},Object(L.a)(t,"id","correo"),Object(L.a)(t,"name","correo"),Object(L.a)(t,"onChange",j),Object(L.a)(t,"value",i.correo),t)),Object(c.jsx)("label",{for:"inputPassword",className:"sr-only",children:"Contrase\xf1a"}),Object(c.jsx)("input",(a={type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0,name:"password"},Object(L.a)(a,"id","password"),Object(L.a)(a,"className","form-control"),Object(L.a)(a,"onChange",j),Object(L.a)(a,"value",i.password),a)),Object(c.jsx)("div",{className:"checkbox mb-3",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",value:"remember-me"})," Recordar  mi contrase\xf1a"]})}),Object(c.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:"Iniciar sesi\xf3n"}),Object(c.jsx)("p",{className:"mt-5 mb-3 text-muted",children:"\xa92021"})]})})},Z=function(){return Object(c.jsx)("div",{children:"AuthRegisterScreen"})},ee=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(i.d,{children:[Object(c.jsx)(i.b,{path:"/auth/login",component:Y}),Object(c.jsx)(i.b,{path:"/auth/register",component:Z})]})})},te=(a(84),function(e){var t=e.path,a=e.component,r=Object(n.useContext)(h),o=r.autenticado;return r.cargando?Object(c.jsx)("div",{children:"Cargando..."}):o?Object(c.jsx)(i.b,{path:t,component:a}):Object(c.jsx)(i.a,{to:"/auth/login"})}),ae=Object(n.createContext)(),ce=function(e){var t=e.children;return Object(c.jsx)(ae.Provider,{value:{},children:t})},ne=function(){return Object(c.jsx)("header",{children:Object(c.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-light bg-ligth border",children:[Object(c.jsx)(s.b,{className:"navbar-brand",to:"#",children:"Carrito de compras"}),Object(c.jsx)("button",{className:"navbar-toggler d-lg-none",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavId","aria-controls":"collapsibleNavId","aria-expanded":"false","aria-label":"Toggle navigation"}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"collapsibleNavId",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(s.c,{className:"nav-link active",exact:!0,to:"/home",children:"Home "})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(s.c,{className:"nav-link active",exact:!0,to:"/cart",children:"Cart "})})]}),Object(c.jsx)("form",{className:"form-inline my-2 my-lg-0",children:Object(c.jsx)("button",{className:"btn btn-light",children:Object(c.jsx)("i",{className:"fa fa-shopping-cart","aria-hidden":"true"})})})]})]})})},re=function(e){var t=e.objProducto,a=Object(n.useContext)(E).setCarrito;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("ul",{class:"list-group",children:Object(c.jsxs)("li",{class:"list-group-item d-flex justify-content-between ",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:t.prod_img,alt:"",width:"30"}),Object(c.jsx)("h6",{class:"my-0",children:t.prod_nom})]}),Object(c.jsxs)("small",{class:"text-muted",children:["(",t.cant,")"]}),Object(c.jsxs)("span",{class:"text-muted",children:["s/",t.prod_pre*t.cant]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"btn btn-sm btn-outline-danger btn-eliminar",onClick:function(){a((function(e){return e.filter((function(e){if(e.prod_id!=t.prod_id)return e}))}))},children:Object(c.jsx)("i",{class:"fa fa-trash"})})})]})})})},oe=function(e){e.objProducto;var t=Object(n.useContext)(E),a=t.carrito,r=t.setCarrito,o=Object(n.useState)(0),s=Object(l.a)(o,2),i=(s[0],s[1]);return Object(n.useEffect)((function(){!function(){var e=a.reduce((function(e,t){return e+t.prod_pre*t.cant}),0);i(e),console.log(e)}()}),[a]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("h4",{className:"d-flex justify-content-between align-items-center mb-3",children:[Object(c.jsx)("span",{className:"text-muted",children:"Carrito"}),Object(c.jsx)("span",{className:"badge badge-secondary badge-pill",children:"3"})]}),Object(c.jsx)("div",{className:"card",children:0===a.length?Object(c.jsxs)("p",{className:"text-muted",children:[Object(c.jsx)("i",{className:"fa fa-shopping-cart","aria-hidden":"true"}),"Carrito vacio"]}):a.map((function(e){return Object(c.jsx)(re,{objProducto:e,setCarrito:r},e.prod_id)}))}),Object(c.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(c.jsx)("span",{children:"Total (USD)"}),Object(c.jsx)("strong",{children:"$"})]})]})},se=function(){var e=Object(n.useContext)(E).setTermino,t=Object(n.useState)(""),a=Object(l.a)(t,2),r=a[0],o=a[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"col-md-2 mt-1",children:Object(c.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(r)},children:Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar Productos",value:r,onChange:function(e){o(e.target.value)}})})})})},ie=a(50),le=function(e){var t=e.objProducto,a=Object(n.useContext)(E).setCarrito;return Object(c.jsx)("div",{className:"col-xl-3 col-lg-3 col-md-4 col-sm-6 mb-3",children:Object(c.jsxs)("div",{className:"card shadow h-100",children:[Object(c.jsx)("img",{src:t.prod_img,alt:"",height:"180px",className:"img-card-top"}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("p",{className:"card-title",children:t.prod_nom}),Object(c.jsxs)("p",{className:"card-text",children:[Object(c.jsx)("small",{className:"text-muted",children:"Precio:"})," ",Object(c.jsx)("br",{}),Object(c.jsxs)("strong",{children:[" S/ ",t.prod_pre]})]})]}),Object(c.jsx)("div",{className:"card-footer text-right",children:Object(c.jsx)("button",{className:"btn btn-light",onClick:function(){a((function(e){return e.find((function(e){if(e.prod_id===t.prod_id)return e}))?e.map((function(e){return e.prod_id===t.prod_id&&(e.cant+=1),e})):[].concat(Object(ie.a)(e),[Object(B.a)(Object(B.a)({},t),{},{cant:1})])}))},children:Object(c.jsx)("i",{className:"fa fa-shopping-cart","aria-hidden":"true"})})})]})})},de=function(){var e=Object(n.useContext)(E),t=e.productos,a=e.setCarrito;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("main",{className:"container-fluid mt-1 ",children:Object(c.jsx)("div",{className:"row",children:t.map((function(e){return Object(c.jsx)(le,{objProducto:e,setCarrito:a},e.prod_id)}))})})})},je=function(){var e=Object(n.useContext)(E),t=e.carrito,a=void 0===t?[]:t,r=e.termino,o=e.setCarrito,s=e.setTermino;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ne,{}),Object(c.jsx)(se,{setTermino:s}),r.trim().length>2?Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col",children:Object(c.jsxs)("p",{className:"text-muted text-center",children:["Resultados para la b\xfasqueda :",r]})})}):null,Object(c.jsx)("main",{className:"container-fluid mt-5",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-8",children:Object(c.jsx)(de,{termino:r,setCarrito:o})}),Object(c.jsx)("div",{className:"col-md-3 ",children:Object(c.jsx)(oe,{carrito:a,setCarrito:o})})]})})]})},ue=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(ce,{children:Object(c.jsx)(P,{children:Object(c.jsx)(i.d,{children:Object(c.jsx)(i.b,{path:"/cart",component:je})})})})})},be=function(){return Object(c.jsx)(s.a,{children:Object(c.jsx)(O,{children:Object(c.jsxs)(i.d,{children:[Object(c.jsx)(i.b,{path:"/auth",component:ee}),Object(c.jsx)(te,{path:"/admin",component:W}),Object(c.jsx)(i.b,{path:"/",component:ue})]})})})};o.a.render(Object(c.jsx)(be,{}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.23c35eca.chunk.js.map