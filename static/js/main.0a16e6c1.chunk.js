(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(1),r=a.n(n),o=a(17),s=a.n(o),i=a(6),l=Object(n.createContext)(),d=function(e){var t=e.children,a=Object(n.useState)((function(){return window.localStorage.getItem("total")?window.localStorage.getItem("total"):0})),r=Object(i.a)(a,2),o=r[0],s=r[1],d={total:o,setTotal:function(e){e&&(s(e),window.localStorage.setItem("total",e))}};return Object(c.jsx)(l.Provider,{value:d,children:t})},j=(l.Consumer,a(13)),u=a(12),b=a(9),m=a.n(b),O=a(16),p="https://codigo4-pos.herokuapp.com",h=function(){var e=Object(O.a)(m.a.mark((function e(t){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"/login"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(O.a)(m.a.mark((function e(t){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"/verificar"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)}});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=Object(n.createContext)(),g=function(e){var t=e.children,a=Object(u.g)(),r=Object(n.useState)({autenticado:!1,usu_nom:null,usu_id:null,token:null,cargando:!0}),o=Object(i.a)(r,2),s=o[0],l=o[1];return Object(n.useEffect)((function(){!function(){var e=localStorage.getItem("token");e?x(e).then((function(t){if(console.log(t),t.ok){var a=e.split(".")[1],c=window.atob(a),n=JSON.parse(c);l({autenticado:!0,usu_nom:n.usu_nom,usu_id:n.usu_id,token:e,cargando:!1})}else localStorage.removeItem("token"),l({autenticado:!1,usu_nom:null,usu_id:null,token:null,cargando:!1})})):l({autenticado:!1,usu_nom:null,usu_id:null,token:null,cargando:!1})}()}),[]),Object(c.jsx)(f.Provider,{value:{autenticado:s.autenticado,usu_nom:s.usu_nom,usu_id:s.usu_id,token:s.token,cargando:s.cargando,iniciarSesionContext:function(e){localStorage.setItem("token",e);var t=e.split(".")[1],a=window.atob(t),c=JSON.parse(a);l({autenticado:!0,usu_nom:c.usu_nom,usu_id:c.usu_id,token:e,cargando:!1})},cerrarSesion:function(){localStorage.removeItem("token"),a.replace("/auth/login"),l({autenticado:!1,usu_nom:null,usu_id:null,token:null,cargando:!0})}},children:t})},v="https://5fdbd3e591f19e0017334bb6.mockapi.io",N=function(){var e=Object(O.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/categoria"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(O.a)(m.a.mark((function e(t){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/categoria"),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(O.a)(m.a.mark((function e(t){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/categoria/").concat(t.cat_id),{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(O.a)(m.a.mark((function e(t){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/categoria/").concat(t),{method:"DELETE"});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=Object(n.createContext)(),S=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(i.a)(a,2),o=r[0],s=r[1],l=Object(n.useState)(!0),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(!1),m=Object(i.a)(b,2),O=m[0],p=m[1],h=Object(n.useState)(!1),x=Object(i.a)(h,2),f=x[0],g=x[1],v=Object(n.useState)({}),_=Object(i.a)(v,2),C=_[0],y=_[1],S=function(){u(!0),N().then((function(e){s(e),u(!1)}))};return Object(n.useEffect)((function(){S()}),[]),Object(c.jsx)(w.Provider,{value:{categorias:o,cargandoCategorias:j,modalAgregar:O,categoriaEditar:C,modalEditar:f,setModalAgregar:p,setCategoriaEditar:y,setModalEditar:g,obtenerCategorias:S},children:t})},k=function(){var e=Object(O.a)(m.a.mark((function e(){var t,a,c,n,r=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=t.trim().length>2?"".concat(v,"/producto?search=").concat(t):"".concat(v,"/producto"),e.next=4,fetch(a);case 4:return c=e.sent,e.next=7,c.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(O.a)(m.a.mark((function e(t){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/producto"),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(O.a)(m.a.mark((function e(t){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/producto/").concat(t.prod_id),{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(O.a)(m.a.mark((function e(t){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/producto/").concat(t),{method:"DELETE"});case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=Object(n.createContext)(),B=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(i.a)(a,2),o=r[0],s=r[1],l=Object(n.useState)(!0),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(!1),m=Object(i.a)(b,2),O=m[0],p=m[1],h=Object(n.useState)(!1),x=Object(i.a)(h,2),f=x[0],g=x[1],v=Object(n.useState)({}),N=Object(i.a)(v,2),_=N[0],C=N[1],y=Object(n.useState)(""),w=Object(i.a)(y,2),S=w[0],E=w[1],T=Object(n.useState)([]),P=Object(i.a)(T,2),B=P[0],F=P[1],A=function(){u(!0),k(S).then((function(e){console.log("lleg\xf3 la data"),s(e),u(!1)}))};return Object(n.useEffect)((function(){A(),localStorage.removeItem("total")}),[S]),Object(c.jsx)(I.Provider,{value:{productos:o,cargandoProductos:j,modalAgregar:O,modalEditar:f,productoEditar:_,termino:S,carrito:B,setTermino:E,setCarrito:F,setProductoEditar:C,setModalAgregar:p,setModalEditar:g,obtenerProductos:A},children:t})},F=function(){var e=Object(n.useContext)(f),t=e.usu_nom,a=e.cerrarSesion;return Object(c.jsx)("header",{children:Object(c.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-light bg-ligth border",children:[Object(c.jsx)(j.b,{className:"navbar-brand",to:"#",children:"Mantenimiento"}),Object(c.jsx)("button",{className:"navbar-toggler d-lg-none",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavId","aria-controls":"collapsibleNavId","aria-expanded":"false","aria-label":"Toggle navigation"}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"collapsibleNavId",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(j.c,{className:"nav-link active",exact:!0,to:"/admin/home",children:"Home "})}),Object(c.jsx)("li",{className:"nav-item ",children:Object(c.jsx)(j.c,{className:"nav-link active",to:"/admin/categoria",children:"Categorias "})}),Object(c.jsx)("li",{className:"nav-item ",children:Object(c.jsx)(j.c,{className:"nav-link active",to:"/admin/producto",children:"Productos "})})]}),Object(c.jsxs)("form",{className:"form-inline my-2 my-lg-0",children:[Object(c.jsx)("button",{className:"btn btn-danger mr-2",onClick:function(){a()},children:Object(c.jsx)("i",{className:"fas fa-door-open"})}),Object(c.jsx)("span",{children:t})]})]})]})})},A=a(5),M=a(15),D=a.n(M),L=a(36),H=function(){var e=Object(n.useContext)(w),t=e.categorias,a=e.cargandoCategorias,r=e.obtenerCategorias,o=e.setModalAgregar,s=e.setModalEditar,i=e.setCategoriaEditar,l={columns:[{label:"Id",field:"cat_id"},{label:"Nombre",field:"cat_nom"},{label:"acciones",field:"acciones"}],rows:t.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{cat_id:+e.cat_id,cat_nom:e.cat_nom,acciones:Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("button",{className:"btn btn-secondary mr-2",onClick:function(){i(e),s(!0)},children:Object(c.jsx)("i",{className:"fas fa-edit"})}),Object(c.jsx)("button",{className:"btn btn-danger",onClick:function(){var t;t=e.cat_id,D.a.fire({title:"\xbfSeguro de eliminar el producto?",icon:"error",text:"Los cambios ser\xe1n irreversibles joven!",showCancelButton:!0}).then((function(e){e.isConfirmed&&y(t).then((function(e){e.cat_id&&(r(),D.a.fire({title:"Eliminado!",icon:"success",timer:700,showCancelButton:!1}))}))}))},children:Object(c.jsx)("i",{className:"fas fa-times"})})]})})})}))};return Object(c.jsx)("section",{className:"col",children:Object(c.jsx)("div",{className:"card shadow",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("button",{className:"btn btn-primary success",onClick:function(){o(!0)},children:Object(c.jsx)("i",{className:"fas fa-plus-circle"})}),a?Object(c.jsx)("div",{children:"...cargando"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{className:"btn btn-success",onClick:function(){r()},children:Object(c.jsx)("i",{className:"fas fa-sync-alt"})}),Object(c.jsx)("hr",{}),Object(c.jsx)(L.c,{data:l,searchTop:!0,searchBottom:!1,responsive:!0,striped:!0,bordered:!0,pagingTop:!0,infoLabel:["Mostrando","a","de","categorias"],fixed:!0,searchLabel:"Buscar"})]})]})})})},U=a(8),J={cat_nom:""},q=function(){var e=Object(n.useState)(Object(A.a)({},J)),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useContext)(w),s=o.obtenerCategorias,l=o.setModalAgregar;return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),D.a.fire({title:"\xbfSeguro de crear el categoria?",icon:"question",text:"Los cambios se guardar\xe1n en la base de datos",showCancelButton:!0}).then((function(e){e.isConfirmed&&_(Object(A.a)({},a)).then((function(e){e.cat_id&&(r(J),s(),l(!1),D.a.fire({title:"Hecho!",text:"La categoria ha sido creado con \xe9xito",icon:"success",timer:700,showCancelButton:!1}))}))}))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"cat_nom",children:"Nombre:"}),Object(c.jsx)("input",{type:"text",id:"cat_nom",name:"cat_nom",placeholder:"Tecnologia",className:"form-control",value:a.prod_nom,onChange:function(e){r(Object(A.a)(Object(A.a)({},a),{},Object(U.a)({},e.target.name,e.target.value)))}})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Crear Categoria"})})]})},z=a(114),K=function(){var e=Object(n.useContext)(w),t=e.categoriaEditar,a=e.setModalEditar,r=e.obtenerCategorias,o=Object(n.useState)(t),s=Object(i.a)(o,2),l=s[0],d=s[1],j=function(e){d(Object(A.a)(Object(A.a)({},l),{},Object(U.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),D.a.fire({title:"\xbfSeguro de editar la categoria ".concat(t.cat_nom," por ").concat(l.cat_nom,"?"),icon:"question",text:"Los cambios se guardar\xe1n en la base de datos",showCancelButton:!0}).then((function(e){e.isConfirmed&&C(l).then((function(e){e.cat_id&&(a(!1),r(),D.a.fire({title:"Editado!",icon:"success",timer:700,showCancelButton:!1}))}))}))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"cat_id",children:"Id:"}),Object(c.jsx)("input",{type:"text",id:"cat_id",name:"cat_id",className:"form-control",value:l.cat_id,onChange:j,readOnly:!0})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"cat_nom",children:"Nombre:"}),Object(c.jsx)("input",{type:"text",id:"cat_nom",name:"cat_nom",placeholder:"Ejm: Panaderia",className:"form-control",value:l.cat_nom,onChange:j})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Editar Producto"})})]})},R=function(){var e=Object(n.useContext)(w),t=e.modalAgregar,a=e.modalEditar,r=e.setModalAgregar,o=e.setModalEditar;return Object(c.jsxs)("main",{className:"container",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)(H,{})}),Object(c.jsxs)(z.a,{show:t,onHide:function(){r(!1)},children:[Object(c.jsx)(z.a.Header,{closeButton:!0,children:Object(c.jsx)(z.a.Title,{children:"Agregar Categoria"})}),Object(c.jsx)(z.a.Body,{children:Object(c.jsx)(q,{})})]}),Object(c.jsxs)(z.a,{show:a,onHide:function(){o(!1)},children:[Object(c.jsx)(z.a.Header,{closeButton:!0,children:Object(c.jsx)(z.a.Title,{children:"Editar Categoria"})}),Object(c.jsx)(z.a.Body,{children:Object(c.jsx)(K,{})})]})]})},W=function(){return Object(c.jsx)("div",{children:"Home"})},Y=a(115),Z={prod_nom:"",prod_pre:0,prod_img:"",cat_id:0,prod_stock:0},V=function(){var e=Object(n.useState)(Object(A.a)({},Z)),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(Object(Y.a)()),s=Object(i.a)(o,2),l=s[0],d=s[1],j=Object(n.useContext)(I),u=j.obtenerProductos,b=j.setModalAgregar,m=Object(n.useContext)(w).categorias,O=function(e){r(Object(A.a)(Object(A.a)({},a),{},Object(U.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),D.a.fire({title:"\xbfSeguro de crear el producto",icon:"question",text:"Los cambios se guardaran en la base de datos",showCancelButton:!0}).then((function(e){e.isConfirmed&&E(Object(A.a)(Object(A.a)({},a),{},{prod_sku:l})).then((function(e){e.prod_id&&(r(Z),d(Object(Y.a)()),u(),b(!1),D.a.fire({title:"Hecho!",text:"EL producto a sido creado con exito",icon:"success",showCancelButton:!1,timer:500}))}))}))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_nom",children:"Nombre"}),Object(c.jsx)("input",{className:"form-control",type:"text",id:"prod_nom",placeholder:"Ejm Capuccino",name:"prod_nom",value:a.prod_nom,onChange:O})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_pre",children:"Precio"}),Object(c.jsx)("input",{className:"form-control",type:"number",id:"prod_pre",value:a.prod_pre,onChange:O,name:"prod_pre"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_stock",children:"stock"}),Object(c.jsx)("input",{className:"form-control",type:"number",id:"prod_stock",name:"prod_stock",value:a.prod_stock,onChange:O})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_sku",children:"SKU"}),Object(c.jsx)("input",{className:"form-control",type:"text",id:"prod_sku",readOnly:!0,name:"prod_sku",value:l})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"cat_id",children:"Categoria"}),Object(c.jsxs)("select",{name:"cat_id",id:"cat_id",value:a.cat_id,className:"form-control",onChange:O,children:[Object(c.jsx)("option",{value:"0",children:"--Selecione--"}),m.map((function(e){return Object(c.jsx)("option",{value:e.cat_id,children:e.cat_nom},e.cat_id)}))]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_img",children:"imagen"}),Object(c.jsx)("textarea",{className:"form-control",type:"number",id:"prod_img",name:"prod_img",value:a.prod_img,onChange:O})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Crear producto"})})]})},G=function(){var e=Object(n.useContext)(I),t=e.productos,a=e.cargandoProductos,r=e.obtenerProductos,o=e.setModalAgregar,s=e.setModalEditar,i=e.setProductoEditar,l=Object(n.useContext)(w).categorias,d={columns:[{label:"Id",field:"prod_id"},{label:"Nombre",field:"prod_nom"},{label:"Precio",field:"prod_pre"},{label:"Stock",field:"prod_stock"},{label:"SKU",field:"prod_sku"},{label:"Categoria",field:"cat_id"},{label:"Imagen",field:"prod_img"},{label:"acciones",field:"acciones"}],rows:t.map((function(e){var t;return Object(A.a)(Object(A.a)({},e),{},{prod_id:+e.prod_id,prod_nom:e.prod_nom,prod_pre:e.prod_pre,prod_stock:e.prod_stock,prod_sku:e.prod_sku,cat_id:null===(t=l.find((function(t){return+t.cat_id===+e.cat_id})))||void 0===t?void 0:t.cat_nom,prod_img:Object(c.jsx)("img",{src:e.prod_img,alt:"",width:"65"}),acciones:Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("button",{className:"btn btn-secondary mr-2",onClick:function(){i(e),s(!0)},children:Object(c.jsx)("i",{className:"fas fa-edit"})}),Object(c.jsx)("button",{className:"btn btn-danger",onClick:function(){var t;t=e.prod_id,D.a.fire({title:"\xbfSeguro de eliminar el producto",icon:"error",text:"Los cambios ser\xe1n irreversibles ",showCancelButton:!0}).then((function(e){e.isConfirmed&&P(t).then((function(e){e.prod_id&&(r(),D.a.fire({title:"Eliminado",icon:"success",timer:700,showCancelButton:!1}))}))}))},children:Object(c.jsx)("i",{className:"fas fa-times"})})]})})})}))};return Object(c.jsx)("section",{className:"col",children:Object(c.jsx)("div",{className:"card shadow",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("button",{className:"btn btn-primary success",onClick:function(){o(!0)},children:Object(c.jsx)("i",{className:"fas fa-plus-circle"})}),a?Object(c.jsxs)("div",{className:"alert alert-info text-center",role:"alert",children:[Object(c.jsx)("h4",{className:"alert-heading",children:"Cargando producto"}),Object(c.jsx)("div",{className:"spinner-border",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{className:"btn btn-success",onClick:function(){r()},children:Object(c.jsx)("i",{className:"fas fa-sync-alt"})}),Object(c.jsx)("hr",{}),Object(c.jsx)(L.c,{data:d,searchTop:!0,searchBottom:!1,responsive:!0,striped:!0,bordered:!0,pagingTop:!0,infoLabel:["Mostrando","a","de","productos"],fixed:!0,searchLabel:"Buscar"})]})]})})})},Q=function(){var e=Object(n.useContext)(I),t=e.productoEditar,a=e.setModalEditar,r=e.obtenerProductos,o=Object(n.useContext)(w).categorias,s=Object(n.useState)(Object(A.a)({},t)),l=Object(i.a)(s,2),d=l[0],j=l[1],u=function(e){j(Object(A.a)(Object(A.a)({},d),{},Object(U.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),D.a.fire({title:"\xbfSeguro de editar el producto ".concat(t.prod_nom," por ").concat(d.prod_nom,"?"),icon:"question",text:"Los cambios se guardaran en \xf1a base de datos",showCancelButton:!0}).then((function(e){e.isConfirmed&&T(Object(A.a)({},d)).then((function(e){e.cat_id&&(a(!1),r(),D.a.fire({title:"Editado!",icon:"success",timer:700,showCancelButton:!1}))}))}))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_nom",children:"ID"}),Object(c.jsx)("input",{className:"form-control",type:"text",id:"prod_id",name:"prod_id",value:d.prod_id,onChange:u,readOnly:!0})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_nom",children:"Nombre"}),Object(c.jsx)("input",{className:"form-control",type:"text",id:"prod_nom",placeholder:"Ejm Tv Smart 70",name:"prod_nom",value:d.prod_nom,onChange:u})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_pre",children:"Precio"}),Object(c.jsx)("input",{className:"form-control",type:"number",id:"prod_pre",value:d.prod_pre,onChange:u,name:"prod_pre"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_stock",children:"stock"}),Object(c.jsx)("input",{className:"form-control",type:"number",id:"prod_stock",name:"prod_stock",value:d.prod_stock,onChange:u})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_sku",children:"SKU"}),Object(c.jsx)("input",{className:"form-control",type:"text",id:"prod_sku",readOnly:!0,name:"prod_sku",value:d.prod_sku,onChange:u})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"cat_id",children:"Categoria"}),Object(c.jsxs)("select",{className:"form-control",type:"number",id:"cat_id",name:"cat_id",value:d.cat_id,onChange:u,readOnly:!0,children:[Object(c.jsx)("option",{value:"0",children:"--Seleccione--"}),o.map((function(e){return Object(c.jsx)("option",{value:e.cat_id,children:e.cat_nom},e.cat_id)}))]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"prod_img",children:"imagen"}),Object(c.jsx)("textarea",{className:"form-control",type:"number",id:"prod_img",name:"prod_img",value:d.prod_img,onChange:u})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Editar producto"})})]})},X=function(){var e=Object(n.useContext)(I),t=e.modalAgregar,a=e.modalEditar,r=e.setModalAgregar,o=e.setModalEditar;return Object(c.jsxs)("main",{className:"container",children:[Object(c.jsx)("div",{className:"row ",children:Object(c.jsx)(G,{})}),Object(c.jsxs)(z.a,{show:t,onHide:function(){r(!1)},children:[Object(c.jsx)(z.a.Header,{closeButton:!0,children:Object(c.jsx)(z.a.Title,{children:"Agregar Producto"})}),Object(c.jsx)(z.a.Body,{children:Object(c.jsx)(V,{})})]}),Object(c.jsxs)(z.a,{show:a,onHide:function(){o(!1)},children:[Object(c.jsx)(z.a.Header,{closeButton:!0,children:Object(c.jsx)(z.a.Title,{children:"Editar Producto"})}),Object(c.jsx)(z.a.Body,{children:Object(c.jsx)(Q,{})})]})]})},$=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(F,{}),Object(c.jsx)(B,{children:Object(c.jsx)(S,{children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{path:"/admin/home",component:W}),Object(c.jsx)(u.b,{path:"/admin/categoria",component:R}),Object(c.jsx)(u.b,{path:"/admin/producto",component:X})]})})})]})},ee=a.p+"static/media/logo-login-admin.e145daed.jpg",te=function(e){var t,a,r=Object(n.useContext)(f).iniciarSesionContext,o=Object(n.useState)({correo:"",password:""}),s=Object(i.a)(o,2),l=s[0],d=s[1],j=function(e){d(Object(A.a)(Object(A.a)({},l),{},Object(U.a)({},e.target.name,e.target.value)))};return Object(c.jsx)("main",{className:"text-center",children:Object(c.jsxs)("form",{className:"form-signin",onSubmit:function(t){t.preventDefault(),h(l).then((function(t){console.log(t),t.ok&&(r(t.token),e.history.push("/admin/home"))}))},children:[Object(c.jsx)("img",{className:"mb-4",src:ee,alt:"",width:"72",height:"72"}),Object(c.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Iniciar sesi\xf3n"}),Object(c.jsx)("label",{for:"inputEmail",className:"sr-only",children:"Correo Electronico"}),Object(c.jsx)("input",(t={type:"email",id:"inputEmail",className:"form-control",placeholder:"Ejm: user@gmail.com",required:!0,autofocus:!0},Object(U.a)(t,"id","correo"),Object(U.a)(t,"name","correo"),Object(U.a)(t,"onChange",j),Object(U.a)(t,"value",l.correo),t)),Object(c.jsx)("label",{for:"inputPassword",className:"sr-only",children:"Contrase\xf1a"}),Object(c.jsx)("input",(a={type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0,name:"password"},Object(U.a)(a,"id","password"),Object(U.a)(a,"className","form-control"),Object(U.a)(a,"onChange",j),Object(U.a)(a,"value",l.password),a)),Object(c.jsx)("div",{className:"checkbox mb-3",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",value:"remember-me"})," Recordar  mi contrase\xf1a"]})}),Object(c.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:"Iniciar sesi\xf3n"}),Object(c.jsx)("p",{className:"mt-5 mb-3 text-muted",children:"\xa92021"})]})})},ae=function(){return Object(c.jsx)("div",{children:"AuthRegisterScreen"})},ce=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{path:"/auth/login",component:te}),Object(c.jsx)(u.b,{path:"/auth/register",component:ae})]})})},ne=(a(99),function(e){var t=e.path,a=e.component,r=Object(n.useContext)(f),o=r.autenticado;return r.cargando?Object(c.jsx)("div",{children:"Cargando..."}):o?Object(c.jsx)(u.b,{path:t,component:a}):Object(c.jsx)(u.a,{to:"/auth/login"})}),re=function(){var e=Object(n.useContext)(I).carrito;return Object(c.jsx)("header",{children:Object(c.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-light bg-ligth border",children:[Object(c.jsx)(j.b,{className:"navbar-brand",to:"#",children:"Carrito de compras"}),Object(c.jsx)("button",{className:"navbar-toggler d-lg-none",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavId","aria-controls":"collapsibleNavId","aria-expanded":"false","aria-label":"Toggle navigation"}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"collapsibleNavId",children:[Object(c.jsxs)("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(j.c,{className:"nav-link active",exact:!0,to:"/home",children:"Home "})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(j.c,{className:"nav-link active",exact:!0,to:"/cart",children:"Cart "})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(j.c,{className:"nav-link active",exact:!0,to:"/ubicanos",children:"Ub\xedcanos "})})]}),Object(c.jsx)("form",{className:"form-inline my-2 my-lg-0",children:Object(c.jsxs)("button",{className:"btn btn-light",children:[e.length,Object(c.jsx)("i",{className:"fa fa-shopping-cart","aria-hidden":"true"})]})})]})]})})},oe=a.p+"static/media/imagen1.43197264.jpeg",se=a.p+"static/media/imagen2.7b81cdd2.jpeg",ie=a.p+"static/media/imagen3.c5731487.jpeg",le=a(116),de=a(117),je=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(re,{}),Object(c.jsxs)("main",{className:"container-fluid mt-1 ",children:[Object(c.jsx)("h1",{className:"text-muted text-center",children:"Pr\xf3ximos lanzamientos"}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-12 d-flex text-center",children:[Object(c.jsxs)(le.a,{style:{width:"18rem"},children:[Object(c.jsx)(le.a.Img,{variant:"top",src:oe}),Object(c.jsxs)(le.a.Body,{children:[Object(c.jsx)(le.a.Title,{children:"Cafe Organico"}),Object(c.jsx)(le.a.Text,{children:"Cafe Organico Apangoa"}),Object(c.jsx)(de.a,{variant:"primary",children:"muy pronto..."})]})]}),Object(c.jsxs)(le.a,{style:{width:"18rem"},children:[Object(c.jsx)(le.a.Img,{variant:"top",src:se}),Object(c.jsxs)(le.a.Body,{children:[Object(c.jsx)(le.a.Title,{children:"Edicion Clasica"}),Object(c.jsx)(le.a.Text,{children:"Tostado Oscuro"}),Object(c.jsx)(de.a,{variant:"primary",children:"muy pronto..."})]})]}),Object(c.jsxs)(le.a,{style:{width:"18rem"},children:[Object(c.jsx)(le.a.Img,{variant:"top",src:ie}),Object(c.jsxs)(le.a.Body,{children:[Object(c.jsx)(le.a.Title,{children:"Caf\xe9 Organico"}),Object(c.jsx)(le.a.Text,{children:"San fernando caf\xe9 organico"}),Object(c.jsx)(de.a,{variant:"primary",children:"muy pronto..."})]})]}),Object(c.jsxs)(le.a,{style:{width:"18rem"},children:[Object(c.jsx)(le.a.Img,{variant:"top",src:ie}),Object(c.jsxs)(le.a.Body,{children:[Object(c.jsx)(le.a.Title,{children:"Caf\xe9 Organico"}),Object(c.jsx)(le.a.Text,{children:"San fernando caf\xe9 organico"}),Object(c.jsx)(de.a,{variant:"primary",children:"muy pronto..."})]})]})]})})]})]})},ue=function(e){var t=e.objProducto,a=Object(n.useContext)(I).setCarrito,r=Object(n.useContext)(l),o=r.total,s=r.setTotal;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("ul",{class:"list-group",children:Object(c.jsxs)("li",{class:"list-group-item d-flex justify-content-between ",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:t.prod_img,alt:"",width:"30"}),Object(c.jsx)("h6",{class:"my-0",children:t.prod_nom})]}),Object(c.jsxs)("small",{class:"text-muted",children:["(",t.cant,")"]}),Object(c.jsxs)("span",{class:"text-muted",children:["s/",t.prod_pre*t.cant]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"btn btn-sm btn-outline-danger btn-eliminar",onClick:function(){a((function(e){return e.filter((function(e){if(e.prod_id!=t.prod_id){var a=parseInt(o)-parseInt(e.prod_pre);return s(a),e}}))}))},children:Object(c.jsx)("i",{class:"fa fa-trash"})})})]})})})},be=a(59),me=a(60),Oe=a(65),pe=a(63),he=a(62),xe=a.n(he),fe=function(e){Object(Oe.a)(a,e);var t=Object(pe.a)(a);function a(){return Object(be.a)(this,a),t.apply(this,arguments)}return Object(me.a)(a,[{key:"render",value:function(){var e=this,t=this.props.total;return Object(c.jsx)(xe.a,{env:"sandbox",client:{sandbox:"ASf--WAoU32oofkCKDjmW4SuYSbfDANVjhV3vWMlgwOIS-0ZIRKBl6UqbuaQS3YtZTCFva1GjKXJezSi",production:"YOUR-PRODUCTION-APP-ID"},currency:"USD",total:t,onError:function(e){console.log("Error!",e)},onSuccess:function(t){localStorage.removeItem("total"),console.log("The payment was succeeded!",t),e.props.tranSuccess(t)},onCancel:function(e){console.log("The payment was cancelled!",e)},style:{size:"small",color:"blue",shape:"rect",label:"checkout",tagline:!1}})}}]),a}(r.a.Component),ge=function(){var e=Object(n.useContext)(I),t=e.carrito,a=e.setCarrito,r=Object(n.useContext)(l).total;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("h4",{className:"d-flex justify-content-between align-items-center mb-3",children:[Object(c.jsx)("span",{className:"text-muted",children:"Carrito"}),Object(c.jsx)("span",{className:"badge badge-secondary badge-pill",children:t.length})]}),Object(c.jsx)("div",{className:"card",children:0===t.length?Object(c.jsxs)("p",{className:"text-muted",children:[Object(c.jsx)("i",{className:"fa fa-shopping-cart","aria-hidden":"true"}),"Carrito vacio"]}):t.map((function(e){return Object(c.jsx)(ue,{objProducto:e,setCarrito:a},e.prod_id)}))}),Object(c.jsxs)("div",{className:"text-center ",children:[Object(c.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(c.jsx)("span",{children:"Total (USD)"}),Object(c.jsxs)("strong",{children:["$",r]})]}),Object(c.jsx)("div",{children:Object(c.jsx)(fe,{total:r})})]})]})},ve=function(){var e=Object(n.useContext)(I).setTermino,t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],o=a[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"col-md-2 mt-1",children:Object(c.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(r)},children:Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar Productos",value:r,onChange:function(e){o(e.target.value)}})})})})},Ne=a(64),_e=function(e){var t=e.objProducto,a=Object(n.useContext)(I).setCarrito,r=Object(n.useContext)(l),o=r.total,s=r.setTotal;return Object(c.jsx)("div",{className:"col-xl-3 col-lg-3 col-md-4 col-sm-6 mb-3",children:Object(c.jsxs)("div",{className:"card shadow h-100",children:[Object(c.jsx)("img",{src:t.prod_img,alt:"",height:"180px",className:"img-card-top"}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("p",{className:"card-title",children:t.prod_nom}),Object(c.jsxs)("p",{className:"card-text",children:[Object(c.jsx)("small",{className:"text-muted",children:"Precio:"})," ",Object(c.jsx)("br",{}),Object(c.jsxs)("strong",{children:[" S/ ",t.prod_pre]})]})]}),Object(c.jsx)("div",{className:"card-footer text-right",children:Object(c.jsx)("button",{className:"btn btn-light",onClick:function(){a((function(e){if(e.find((function(e){if(e.prod_id===t.prod_id)return e})))return e.map((function(e){if(e.prod_id===t.prod_id){console.log(e);var a=parseInt(o);a+=parseInt(e.prod_pre),s(a),e.cant+=1}return e}));var a=parseInt(o);return a+=parseInt(t.prod_pre),s(a),[].concat(Object(Ne.a)(e),[Object(A.a)(Object(A.a)({},t),{},{cant:1})])}))},children:Object(c.jsx)("i",{className:"fa fa-shopping-cart","aria-hidden":"true"})})})]})})},Ce=function(){var e=Object(n.useContext)(I),t=e.productos,a=e.setCarrito;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("main",{className:"container-fluid mt-1 ",children:Object(c.jsx)("div",{className:"row",children:t.map((function(e){return Object(c.jsx)(_e,{objProducto:e,setCarrito:a},e.prod_id)}))})})})},ye=function(){var e=Object(n.useContext)(I),t=e.carrito,a=void 0===t?[]:t,r=e.termino,o=e.setCarrito,s=e.setTermino,i=e.setTotal;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(re,{}),Object(c.jsx)(ve,{setTermino:s}),r.trim().length>2?Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col",children:Object(c.jsxs)("p",{className:"text-muted text-center",children:["Resultados para la b\xfasqueda :",r]})})}):null,Object(c.jsx)("main",{className:"container-fluid mt-5",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-8",children:Object(c.jsx)(Ce,{termino:r,setCarrito:o})}),Object(c.jsx)("div",{className:"col-md-3 ",children:Object(c.jsx)(ge,{carrito:a,setCarrito:o,setTotal:i})})]})})]})},we=a(111),Se=a(118),ke=a(112),Ee=a(113),Te=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(re,{}),Object(c.jsx)("h3",{className:"text-muted",children:"Estamos ubicados en: Calle Independencia 269, miraflores "}),Object(c.jsx)("main",{className:"container-fluid",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col",children:Object(c.jsxs)(we.a,{center:[-12.1172569,-77.0347856],zoom:30,scrollWheelZoom:!1,children:[Object(c.jsx)(Se.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(c.jsx)(ke.a,{position:[-12.1172569,-77.0347856],children:Object(c.jsxs)(Ee.a,{children:["A pretty CSS3 popup. ",Object(c.jsx)("br",{})," Easily customizable."]})})]})})})})]})},Pe=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(B,{children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{path:"/home",component:je}),Object(c.jsx)(u.b,{path:"/cart",component:ye}),Object(c.jsx)(u.b,{path:"/ubicanos",component:Te})]})})})},Ie=function(){return Object(c.jsx)(j.a,{children:Object(c.jsx)(g,{children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{path:"/auth",component:ce}),Object(c.jsx)(ne,{path:"/admin",component:$}),Object(c.jsx)(u.b,{path:"/",component:Pe})]})})})};s.a.render(Object(c.jsx)(d,{children:Object(c.jsx)(Ie,{})}),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.0a16e6c1.chunk.js.map